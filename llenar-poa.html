<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Llenar POA</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="flex h-screen">
  <!-- Sidebar -->
  <aside class="w-64 bg-[#07396b] text-white p-4 space-y-4 overflow-y-auto">
    <h2 class="text-xl font-bold mb-4">Categorías POA</h2>
    <select id="tipoActividad" class="w-full p-2 rounded text-black">
      <option value="">-- Selecciona actividad --</option>
      <option value="ppa">PPA</option>
      <option value="visita_regional">Visita Regional</option>
      <option value="visita_nacional">Visita Nacional</option>
      <option value="charlas">Charlas</option>
      <option value="feria">Feria</option>
      <option value="congreso">Congreso</option>
      <option value="evento_nacional">Evento Nacional</option>
      <option value="biblio">Biblio</option>
      <option value="profesor_visitante">Profesor Visitante</option>
      <option value="actividades_interculturales">Actividades Interculturales</option>
      <option value="actividades_universidades_internacionales">Actividades con Universidades Internacionales</option>
      <option value="productos_en_ingles">Productos en Inglés</option>
      <option value="ppa_traducidos">PPA Traducidos</option>
      <option value="coil">COIL</option>
      <option value="clase_espejo">Clase Espejo</option>
      <option value="reto_empresa">Reto Empresa</option>
      <option value="grupo_focal">Grupo Focal</option>
      <option value="estudio_tendencias">Estudio Tendencias</option>
      <option value="analisis_contexto">Análisis Contexto</option>
      <option value="autoevaluacion_mejoras">Autoevaluación Mejoras</option>
      <option value="empresas_practicas">Empresas Prácticas</option>
      <option value="graduados">Graduados</option>
      <option value="mesa_sector">Mesa Sector</option>
      <option value="mejoras_practicas">Mejoras Prácticas</option>
      <option value="diplomado_grado">Diplomado Grado</option>
      <option value="formacion_continua">Formación Continua</option>
      <option value="mbc_refuerzos">MBC Refuerzos</option>
      <option value="taller_refuerzo_saber">Taller Refuerzo Saber</option>
      <option value="proyecto_grado">Proyecto Grado</option>
      <option value="visita_aula">Visita Aula</option>
      <option value="estudio_semilleros_estudiantes">Semilleros Estudiantes</option>
      <option value="estudio_semilleros_docentes">Semilleros Docentes</option>
      <option value="pep">PEP</option>
      <option value="herramientas">Herramientas</option>
      <option value="micrositio">Micrositio</option>
      <option value="modalidad_virtual">Modalidad Virtual</option>
      <option value="sitio_interaccion">Sitio Interacción</option>
      <option value="atlas">Atlas</option>
      <option value="seguimiento_estudiantes">Seguimiento Estudiantes</option>
      <option value="matricula_estudiantes_antiguos">Matrícula Estudiantes Antiguos</option>
    </select>
    <a href="dashboard.html" class="block bg-white text-[#07396b] text-center rounded p-2 font-bold">⬅ Volver al dashboard</a>
  </aside>

  <!-- Formulario dinámico -->
  <main class="flex-1 p-6 overflow-y-auto">
    <h1 class="text-2xl font-bold mb-4">Formulario Actividad</h1>
    <form id="formularioPOA" class="grid grid-cols-1 md:grid-cols-2 gap-4"></form>
  </main>

  <script>
  const camposPorTipo = {
    ppa: ["nivel_formacion", "ppa_realizado", "terminado", "evidencia_link", "semester"],
    visita_regional: ["visitas_regionales", "estudiantes", "realizado", "evidencia_link", "semester"],
    visita_nacional: ["visita_nacional", "estudiantes", "realizada", "evidencia_link", "semester"],
    charlas: ["nombre_evento", "estudiantes", "realizada", "evidencia_link", "semester"],
    feria: ["nombre_evento", "estudiantes", "realizada", "evidencia_link", "semester"],
    congreso: ["nombre_evento", "estudiantes", "realizado", "evidencia_link", "semester"],
    evento_nacional: ["nombre_evento", "estudiantes", "realizado", "evidencia_link", "semester"],
    biblio: ["asignaturas_programadas", "bibliografia_ingles", "evidencia_link", "semester"],
    profesor_visitante: ["profesor", "tema", "estudiantes", "realizada", "evidencia_link", "semester"],
    actividades_interculturales: ["actividad", "estudiantes", "realizada", "evidencia_link", "semester"],
    actividades_universidades_internacionales: ["actividad", "actividad_conjunta", "estudiantes", "realizada", "evidencia_link", "semester"],
    productos_en_ingles: ["producto", "estudiantes", "terminados", "evidencia_link", "semester"],
    ppa_traducidos: ["documento", "estudiantes", "asignatura", "terminados", "evidencia_link", "semester"],
    coil: ["universidad", "asignatura", "tema", "realizada", "evidencia_link", "semester"],
    clase_espejo: ["universidad", "asignatura", "tema", "realizada", "evidencia_link", "semester"],
    reto_empresa: ["empresa", "reto", "estudiantes", "realizado", "evidencia_link", "semester"],
    grupo_focal: ["experto", "fecha_comite", "evidencia_link", "semester"],
    estudio_tendencias: ["informe", "fecha_elaboracion", "acta_comite", "evidencia_link", "semester"],
    analisis_contexto: ["informe", "fecha_elaboracion", "acta_comite", "evidencia_link", "semester"],
    autoevaluacion_mejoras: ["informe", "fecha_elaboracion", "acta_comite", "evidencia_link", "semester"],
    empresas_practicas: ["empresa", "concretada", "evidencia_link", "semester"],
    graduados: ["actividades_programadas", "actividades_realizadas", "evidencia_link", "semester"],
    mesa_sector: ["participacion", "fecha_encuentro", "tema", "evidencia_link", "semester"],
    mejoras_practicas: ["accion", "fecha_implementacion", "evidencia_link", "semester"],
    diplomado_grado: ["nivel_formacion", "tema", "estudiantes", "evidencia_link", "semester"],
    formacion_continua: ["curso", "estudiantes", "aprobado", "evidencia_link", "semester"],
    mbc_refuerzos: ["competencia", "asignatura", "docente", "actividades_verificadas", "evidencia_link", "semester"],
    taller_refuerzo_saber: ["taller", "estudiantes", "fecha", "evidencia_link", "semester"],
    proyecto_grado: ["propuesta", "evidencia_link", "semester"],
    visita_aula: ["docente", "fecha", "hora", "asignatura", "aula", "calificacion", "evidencia_link", "semester"],
    estudio_semilleros_estudiantes: ["estudiante", "fecha_ingreso", "evidencia_link", "semester"],
    estudio_semilleros_docentes: ["docente", "fecha_ingreso", "evidencia_link", "semester"],
    pep: ["proyecto", "fecha_actualizacion", "fecha_aprobacion", "evidencia_link", "semester"],
    herramientas: ["herramienta", "asignatura", "fecha_incorporacion", "evidencia_link", "semester"],
    micrositio: ["actualizacion", "fecha_actualizacion", "evidencia_link", "semester"],
    modalidad_virtual: ["modulo", "cantidad", "evidencia_link", "semester"],
    sitio_interaccion: ["espacio", "cantidad", "evidencia_link", "semester"],
    atlas: ["registro", "cantidad", "evidencia_link", "semester"],
    seguimiento_estudiantes: ["seguimiento", "cantidad", "evidencia_link", "semester"],
    matricula_estudiantes_antiguos: ["matricula", "cantidad", "evidencia_link", "semester"]
  };

  const tiposNumericos = ["cantidad", "estudiantes", "semester"];
  const tiposFecha = ["fecha", "fecha_comite", "fecha_elaboracion", "fecha_implementacion", "fecha_actualizacion", "fecha_aprobacion", "fecha_ingreso", "fecha_encuentro"];

  const selectActividad = document.getElementById("tipoActividad");
  const formulario = document.getElementById("formularioPOA");

  selectActividad.addEventListener("change", () => {
    const tipo = selectActividad.value;
    formulario.innerHTML = "";

    if (!tipo || !camposPorTipo[tipo]) return;

    camposPorTipo[tipo].forEach(campo => {
      const label = campo.replace(/_/g, " ").toUpperCase();
      let inputType = "text";

      if (tiposNumericos.some(n => campo.includes(n))) inputType = "number";
      else if (tiposFecha.some(f => campo.includes(f))) inputType = "date";

      formulario.innerHTML += `
        <div>
          <label class='block font-semibold mb-1'>${label}</label>
          <input name='${campo}' type='${inputType}' class='w-full p-2 border rounded' required />
        </div>`;
    });

    formulario.innerHTML += `
      <div class='col-span-2'>
        <button type='submit' class='bg-[#195da2] text-white px-4 py-2 mt-4 rounded'>
          Guardar
        </button>
      </div>`;
  });
</script>
